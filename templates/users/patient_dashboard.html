
{% extends 'base.html' %}

{% block title %}Patient Dashboard - Healthcare App{% endblock %}

{% block content %}
<div class="container mx-auto px-4 py-8">
	<div class="bg-white shadow overflow-hidden sm:rounded-lg mb-8">
		<div class="px-4 py-5 sm:px-6 bg-green-50">
			<div class="flex flex-col sm:flex-row sm:items-center sm:justify-between">
				<div>
					<h3 class="text-2xl font-bold text-gray-900">
						{{ user.get_full_name }}
					</h3>
					<p class="mt-1 text-sm text-gray-600">
						@{{ user.username }} â€¢ {{ user.get_user_type_display }}
					</p>
				</div>
				<div class="mt-4 sm:mt-0">
					<a href="{% url 'edit_profile' %}" class="inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-colors">
						Edit Profile
					</a>
				</div>
			</div>
		</div>

		<div class="px-4 py-5 sm:p-6">
			<h3 class="text-lg leading-6 font-medium text-gray-900 mb-4">
				Your information
			</h3>
			<div class="grid grid-cols-1 md:grid-cols-3 gap-6 items-center">
				<div class="flex items-center space-x-4">
					<div class="h-20 w-20 rounded-full overflow-hidden bg-gray-100">
						{% if user.profile_picture %}
							<img src="{{ user.profile_picture.url }}" alt="Profile" class="h-full w-full object-cover">
						{% else %}
							<svg class="h-full w-full text-gray-300" fill="currentColor" viewBox="0 0 24 24">
								<path d="M24 20.993V24H0v-2.996A14.977 14.977 0 0112.004 15c4.904 0 9.26 2.354 11.996 5.993zM16.002 8.999a4 4 0 11-8 0 4 4 0 018 0z" />
							</svg>
						{% endif %}
					</div>
					<div>
						<p class="text-sm text-gray-700">{{ user.get_full_name }}</p>
						<p class="text-sm text-gray-500">{{ user.email }}</p>
					</div>
				</div>

				<div class="md:col-span-2">
					<p class="text-sm text-gray-700"><strong>Address:</strong> {{ address }}</p>
					<p class="text-sm text-gray-700"><strong>Username:</strong> {{ user.username }}</p>
					<p class="text-sm text-gray-700"><strong>User type:</strong> {{ user.get_user_type_display }}</p>
				</div>
			</div>
		</div>
	</div>

	<div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
		<div class="lg:col-span-2">
			<div class="bg-white shadow overflow-hidden sm:rounded-lg">
				<div class="px-4 py-5 sm:px-6 border-b border-gray-200">
					<h3 class="text-lg leading-6 font-medium text-gray-900">Recent Activity</h3>
				</div>
				<div class="bg-white overflow-hidden">
					<ul class="divide-y divide-gray-200">
						{% for activity in recent_activities %}
						<li class="px-4 py-4 sm:px-6 hover:bg-gray-50">
							<div class="flex items-center">
								<div class="min-w-0 flex-1">
									<p class="text-sm font-medium text-gray-900">{{ activity.title }}</p>
									<p class="text-sm text-gray-500">{{ activity.time }}</p>
								</div>
							</div>
						</li>
						{% endfor %}
					</ul>
				</div>
			</div>
		</div>

		<div>
			<div class="bg-white shadow overflow-hidden sm:rounded-lg p-4">
				<h4 class="text-sm font-medium text-gray-900 mb-3">Quick Links</h4>
				<ul class="space-y-2 text-sm">
					<li><a href="#" class="text-blue-600 hover:underline">View appointments</a></li>
					<li><a href="#" class="text-blue-600 hover:underline">Medical records</a></li>
					<li><a href="#" class="text-blue-600 hover:underline">Contact doctor</a></li>
				</ul>
			</div>
		</div>
	</div>
</div>

{% endblock %}
